<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>distilgpt2</title>
</head>

<body>
    <fieldset>
        <legend>Settings for FAISS Search</legend>
        <div class="settings-container">
            <div class="setting">
                <label for="nearest-neighbor-number" title="FAISS index for finding similar embeddings.">Nearest Neighbor Number:</label>
                <input type="number" id="nearest-neighbor-number" value="5" min="1" step="1">
            </div>
            <div class="setting">
                <label for="similarity-threshold" title="Controls similarity cutoff in FAISS embedder.">Similarity Threshold:</label>
                <input type="number" id="similarity-threshold" value="1.2" step="0.1" min="0">
            </div>
            <div class="setting">
                <label for="distance-metric" title="Select distance metric for similarity search in FAISS. This controls how embeddings are compared.">Distance Metric:</label>
                <select id="distance-metric">
                    <option value="cosine">Cosine Similarity</option>
                    <option value="euclidean">Euclidean Distance</option>
                </select>
            </div>
        </div>
    </fieldset>
    
    <fieldset>
        <legend>Settings for Transformer</legend>
        <div class="settings-container">
            <div class="setting">
                <label for="max-new-tokens" title="Defines the maximum tokens generated by the transformer model.">Max New Tokens:</label>
                <input type="number" id="max-new-tokens" value="50" min="1" step="1">
            </div>
            <div class="setting">
                <label for="temperature" title="Controls randomness in transformer output.">Temperature:</label>
                <input type="number" id="temperature" value="0.3" step="0.1" min="0" max="1">
            </div>
            <div class="setting">
                <label for="top-k" title="Limits to top K probable tokens in the transformer model.">Top K:</label>
                <input type="number" id="top-k" value="20" min="1" step="1">
            </div>
            <div class="setting">
                <label for="top-p" title="Limits to cumulative probability threshold in the transformer model.">Top P:</label>
                <input type="number" id="top-p" value="0.85" step="0.01" min="0" max="1">
            </div>
            <div class="setting">
                <label for="repetition-penalty" title="Discourages repetitive phrases in transformer-generated output to improve diversity.">Repetition Penalty:</label>
                <input type="number" id="repetition-penalty" value="1.2" step="0.1" min="1">
            </div>
            <div class="setting">
                <label for="length-penalty" title="Control preference for longer or shorter sequences in transformer output. Higher values favor shorter outputs.">Length Penalty:</label>
                <input type="number" id="length-penalty" value="1.0" step="0.1" min="0">
            </div>
            <div class="setting">
                <label for="stop-sequence" title="Specify a sequence where generation by the transformer model stops early.">Stop Sequence:</label>
                <input type="text" id="stop-sequence" placeholder="Enter stop sequence">
            </div>
            <div class="setting">
                <label for="seed" title="Set a random seed for reproducible outputs in the transformer model. Useful for debugging and consistent results.">Random Seed:</label>
                <input type="number" id="seed" value="42" min="0" step="1">
            </div>
            <div class="setting">
                <label for="beam-width" title="Set the number of beams for beam search decoding in transformer generation. Higher values improve quality but increase computation.">Beam Width:</label>
                <input type="number" id="beam-width" value="3" min="1" step="1">
            </div>
        </div>
    </fieldset>
    <br>
    <div>
        <textarea class="t-area" id="question" placeholder="Type your question here..." rows="4"
            cols="100"></textarea><br>
        <button type="button" id="chatButton" onclick="sendChat()">Send</button>
        <span id="chatLoading" style="display: none;">Loading...</span>
    </div>
    <div>
        <h2>Response:</h2>
        <p id="response"></p>
    </div>
    <br>
    <hr>
    <br>
    <div>
        <h2>Add Knowledge</h2>
        <textarea class="t-area" id="newContent" placeholder="Add new knowledge..." rows="4" cols="100"></textarea><br>
        <button type="button" id="addButton" onclick="addKnowledge(event)">Add</button>
        <span id="addLoading" style="display: none;">Loading...</span>
        <h2>Status:</h2>
        <p id="status"></p>
    </div>
</body>

</html>